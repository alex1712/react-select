!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Select=t()}}(function(){return function t(e,s,i){function n(a,l){if(!s[a]){if(!e[a]){var r="function"==typeof require&&require;if(!l&&r)return r(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var p=s[a]={exports:{}};e[a][0].call(p.exports,function(t){var s=e[a][1][t];return n(s?s:t)},p,p.exports,t,e,s,i)}return s[a].exports}for(var o="function"==typeof require&&require,a=0;a<i.length;a++)n(i[a]);return n}({1:[function(t,e){(function(s){"use strict";var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var s=arguments[e];for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(t[i]=s[i])}return t},n="undefined"!=typeof window?window._:"undefined"!=typeof s?s._:null,o=t("react"),a="undefined"!=typeof window?window.AutosizeInput:"undefined"!=typeof s?s.AutosizeInput:null,l="undefined"!=typeof window?window.classNames:"undefined"!=typeof s?s.classNames:null,r=t("./Value"),u=0,p=o.createClass({displayName:"Select",propTypes:{value:o.PropTypes.any,multi:o.PropTypes.bool,disabled:o.PropTypes.bool,options:o.PropTypes.array,delimiter:o.PropTypes.string,asyncOptions:o.PropTypes.func,autoload:o.PropTypes.bool,placeholder:o.PropTypes.string,noResultsText:o.PropTypes.string,clearable:o.PropTypes.bool,clearValueText:o.PropTypes.string,clearAllText:o.PropTypes.string,searchable:o.PropTypes.bool,searchPromptText:o.PropTypes.string,name:o.PropTypes.string,onChange:o.PropTypes.func,onFocus:o.PropTypes.func,onBlur:o.PropTypes.func,className:o.PropTypes.string,filterOption:o.PropTypes.func,filterOptions:o.PropTypes.func,matchPos:o.PropTypes.string,matchProp:o.PropTypes.string,inputProps:o.PropTypes.object,tagging:o.PropTypes.bool,taggingPlaceholder:o.PropTypes.func,onOptionLabelClick:o.PropTypes.func},getDefaultProps:function(){return{value:void 0,options:[],disabled:!1,delimiter:",",asyncOptions:void 0,autoload:!0,placeholder:"Select...",noResultsText:"No results found",clearable:!0,clearValueText:"Clear value",clearAllText:"Clear all",searchable:!0,searchPromptText:"Type to search",name:void 0,onChange:void 0,className:void 0,matchPos:"any",matchProp:"any",inputProps:{},tagging:!1,taggingPlaceholder:function(t){return"Press enter or click to create '"+t+"' as a new tag..."},onOptionLabelClick:void 0}},getInitialState:function(){return{options:this.props.options,isFocused:!1,isOpen:!1,isLoading:!1}},componentWillMount:function(){this._optionsCache={},this._optionsFilterString="",this.setState(this.getStateFromValue(this.props.value)),this.props.asyncOptions&&this.props.autoload&&this.autoloadAsyncOptions(),this._closeMenuIfClickedOutside=function(t){if(this.state.isOpen){var e=this.refs.selectMenuContainer.getDOMNode(),s=this.refs.control.getDOMNode(),i=this.clickedOutsideElement(e,t),n=this.clickedOutsideElement(s,t);i&&n&&this.setState({isOpen:!1},this._unbindCloseMenuIfClickedOutside)}}.bind(this),this._bindCloseMenuIfClickedOutside=function(){document.addEventListener("click",this._closeMenuIfClickedOutside)},this._unbindCloseMenuIfClickedOutside=function(){document.removeEventListener("click",this._closeMenuIfClickedOutside)}},componentWillUnmount:function(){clearTimeout(this._blurTimeout),clearTimeout(this._focusTimeout),this.state.isOpen&&this._unbindCloseMenuIfClickedOutside()},componentWillReceiveProps:function(t){JSON.stringify(t.options)!==JSON.stringify(this.props.options)&&this.setState({options:t.options,filteredOptions:this.filterOptions(t.options)}),this.props.value!==t.value&&t.value!==this.state.value&&this.setState(this.getStateFromValue(t.value,t.options))},componentDidUpdate:function(){if(this._focusAfterUpdate&&(clearTimeout(this._blurTimeout),this._focusTimeout=setTimeout(function(){this.getInputNode().focus(),this._focusAfterUpdate=!1}.bind(this),50)),this._focusedOptionReveal){if(this.refs.focused&&this.refs.menu){var t=this.refs.focused.getDOMNode(),e=this.refs.menu.getDOMNode(),s=t.getBoundingClientRect(),i=e.getBoundingClientRect();(s.bottom>i.bottom||s.top<i.top)&&(e.scrollTop=t.offsetTop+t.clientHeight-e.offsetHeight)}this._focusedOptionReveal=!1}},clickedOutsideElement:function(t,e){for(var s=e.target?e.target:e.srcElement;null!=s;){if(s===t)return!1;s=s.offsetParent}return!0},getStateFromValue:function(t,e){e||(e=this.state.options),this._optionsFilterString="";var s=this.initValuesArray(t,e),i=this.filterOptions(e,s);return{value:s.map(function(t){return t.value}).join(this.props.delimiter),values:s,inputValue:"",filteredOptions:i,placeholder:!this.props.multi&&s.length?s[0].label:this.props.placeholder,focusedOption:!this.props.multi&&s.length?s[0]:this.getAutomaticFocusedOption(i,"")}},initValuesArray:function(t,e){return Array.isArray(t)||(t="string"==typeof t?t.split(this.props.delimiter):t?[t]:[]),t.map(function(t){return"string"==typeof t?t=n.findWhere(e,{value:t})||{value:t,label:t}:t})},setValue:function(t){this._focusAfterUpdate=!0;var e=this.getStateFromValue(t);e.isOpen=!1,this.fireChangeEvent(e),this.setState(e)},selectValue:function(t){this.props.multi?t&&this.addValue(t):this.setValue(t),this._unbindCloseMenuIfClickedOutside()},addValue:function(t){this.setValue(this.state.values.concat(t))},popValue:function(){this.setValue(n.initial(this.state.values))},removeValue:function(t){this.setValue(n.without(this.state.values,t))},clearValue:function(t){t&&"mousedown"===t.type&&0!==t.button||this.setValue(null)},resetValue:function(){this.setValue(this.state.value)},getInputNode:function(){var t=this.refs.input;return this.props.searchable?t:t.getDOMNode()},fireChangeEvent:function(t){t.value!==this.state.value&&this.props.onChange&&this.props.onChange(t.value,t.values)},getNewTagOption:function(){return this.props.tagging?{label:this.props.taggingPlaceholder(this.state.inputValue),value:null,type:"createTag"}:null},handleMouseDown:function(t){this.props.disabled||"mousedown"===t.type&&0!==t.button||(t.stopPropagation(),t.preventDefault(),this.state.isFocused?this.setState({isOpen:!0},this._bindCloseMenuIfClickedOutside):(this._openAfterFocus=!0,this.getInputNode().focus()))},handleInputFocus:function(t){var e=this.state.isOpen||this._openAfterFocus;this.setState({isFocused:!0,isOpen:e},function(){e?this._bindCloseMenuIfClickedOutside():this._unbindCloseMenuIfClickedOutside()}),this._openAfterFocus=!1,this.props.onFocus&&this.props.onFocus(t)},handleInputBlur:function(t){this._blurTimeout=setTimeout(function(){this._focusAfterUpdate||this.setState({isFocused:!1})}.bind(this),50),this.props.onBlur&&this.props.onBlur(t)},handleKeyDown:function(t){if(!this.state.disabled){switch(t.keyCode){case 8:return void(this.state.inputValue||this.popValue());case 9:if(t.shiftKey||!this.state.isOpen||!this.state.focusedOption)return;this.selectFocusedOption();break;case 13:this.selectFocusedOption();break;case 27:this.state.isOpen?this.resetValue():this.clearValue();break;case 38:this.focusPreviousOption();break;case 40:this.focusNextOption();break;default:return}t.preventDefault()}},handleInputChange:function(t){if(this._optionsFilterString=t.target.value,this.props.asyncOptions)this.setState({isLoading:!0,inputValue:t.target.value}),this.loadAsyncOptions(t.target.value,{isLoading:!1,isOpen:!0},this._bindCloseMenuIfClickedOutside);else{var e=this.filterOptions(this.state.options);this.setState({isOpen:!0,inputValue:t.target.value,filteredOptions:e,focusedOption:this.getAutomaticFocusedOption(e,t.target.value)},this._bindCloseMenuIfClickedOutside)}},createAsNewTag:function(){this.addValue(this.state.inputValue)},getAutomaticFocusedOption:function(t,e){var s=e||this.state.inputValue;return this.props.tagging?t&&t.length&&(n.isEmpty(s)||s===t[0].label)?t[0]:null:t?t[0]:null},autoloadAsyncOptions:function(){this.loadAsyncOptions("",{},function(){})},loadAsyncOptions:function(t,e){for(var s=this._currentRequestId=u++,i=0;i<=t.length;i++){var o=t.slice(0,i);if(this._optionsCache[o]&&(t===o||this._optionsCache[o].complete)){var a=this._optionsCache[o].options,l=this.filterOptions(a);return void this.setState(n.extend({options:a,filteredOptions:l,focusedOption:n.contains(l,this.state.focusedOption)?this.state.focusedOption:this.getAutomaticFocusedOption(l,t)},e))}}this.props.asyncOptions(t,function(i,o){if(i)throw i;if(this._optionsCache[t]=o,s===this._currentRequestId){var a=this.filterOptions(o.options);this.setState(n.extend({options:o.options,filteredOptions:a,focusedOption:n.contains(a,this.state.focusedOption)?this.state.focusedOption:this.getAutomaticFocusedOption(a,t)},e))}}.bind(this))},filterOptions:function(t,e){if(!this.props.searchable)return t;var s=this._optionsFilterString,i=(e||this.state.values).map(function(t){return t.value});if(this.props.filterOptions)return this.props.filterOptions.call(this,t,s,i);var o=function(t){if(this.props.multi&&n.contains(i,t.value))return!1;if(this.props.filterOption)return this.props.filterOption.call(this,t,s);var e=String(t.value),o=String(t.label);return s&&"start"!==this.props.matchPos?"label"!==this.props.matchProp&&e.toLowerCase().indexOf(s.toLowerCase())>=0||"value"!==this.props.matchProp&&o.toLowerCase().indexOf(s.toLowerCase())>=0:"label"!==this.props.matchProp&&e.toLowerCase().substr(0,s.length)===s||"value"!==this.props.matchProp&&o.toLowerCase().substr(0,s.length)===s};return n.filter(t,o,this)},selectFocusedOption:function(){return this.state.isOpen?!this.props.tagging||this.state.focusedOption||n.isEmpty(this.state.inputValue)?this.selectValue(this.state.focusedOption):this.createAsNewTag():void 0},focusOption:function(t){this.setState({focusedOption:t})},focusNextOption:function(){this.focusAdjacentOption("next")},focusPreviousOption:function(){this.focusAdjacentOption("previous")},focusAdjacentOption:function(t){this._focusedOptionReveal=!0;var e=this.state.filteredOptions;if(!this.state.isOpen)return void this.setState({isOpen:!0,inputValue:"",focusedOption:this.state.focusedOption||e["next"===t?0:e.length-1]},this._bindCloseMenuIfClickedOutside);if(e.length){for(var s=-1,i=0;i<e.length;i++)if(this.state.focusedOption===e[i]){s=i;break}var n=e[0];"next"===t&&s>-1&&s<e.length-1?n=e[s+1]:"previous"===t&&(n=s>0?e[s-1]:e[e.length-1]),this.setState({focusedOption:n})}},unfocusOption:function(t){this.state.focusedOption===t&&this.setState({focusedOption:null})},buildMenu:function(){var t=this,e=this.state.focusedOption?this.state.focusedOption.value:null;if(this.state.filteredOptions.length>0&&null==e){var s=this.getAutomaticFocusedOption(this.state.filteredOptions);e=s?s.value:null}var i=n.map(this.state.filteredOptions,function(t){var s=e===t.value,i=l({"Select-option":!0,"is-focused":s}),n=s?"focused":null,a=this.focusOption.bind(this,t),r=this.unfocusOption.bind(this,t),u=this.selectValue.bind(this,t);return o.createElement("div",{ref:n,key:"option-"+t.value,className:i,onMouseEnter:a,onMouseLeave:r,onMouseDown:u,onClick:u},t.label)},this),a=this.getNewTagOption(),r=this.state.filteredOptions.some(function(e){return e.value===t.state.inputValue});if(a&&!r&&!n.isEmpty(this.state.inputValue)){var u=l({"Select-option":!0,placeholder:!0,"is-focused":!this.state.focusedOption}),p=this.createAsNewTag;i.unshift(o.createElement("div",{ref:null,key:"new-tag",onMouseDown:p,className:u},a.label))}return i.length?i:o.createElement("div",{className:"Select-noresults"},this.props.asyncOptions&&!this.state.inputValue?this.props.searchPromptText:this.props.noResultsText)},handleOptionLabelClick:function(t,e){var s=this.props.onOptionLabelClick;s&&s(t,e)},render:function(){var t=l("Select",this.props.className,{"is-multi":this.props.multi,"is-searchable":this.props.searchable,"is-open":this.state.isOpen,"is-focused":this.state.isFocused,"is-loading":this.state.isLoading,"is-disabled":this.props.disabled,"has-value":this.state.value}),e=[];this.props.multi&&this.state.values.forEach(function(t){var s=n.extend({key:t.value,optionLabelClick:!!this.props.onOptionLabelClick,onOptionLabelClick:this.handleOptionLabelClick.bind(this,t),onRemove:this.removeValue.bind(this,t)},t);e.push(o.createElement(r,s))},this),!this.props.disabled&&(this.state.inputValue||this.props.multi&&e.length)||e.push(o.createElement("div",{className:"Select-placeholder",key:"placeholder"},this.state.placeholder));var s,u,p=this.state.isLoading?o.createElement("span",{className:"Select-loading","aria-hidden":"true"}):null,c=this.props.clearable&&this.state.value&&!this.props.disabled?o.createElement("span",{className:"Select-clear",title:this.props.multi?this.props.clearAllText:this.props.clearValueText,"aria-label":this.props.multi?this.props.clearAllText:this.props.clearValueText,onMouseDown:this.clearValue,onClick:this.clearValue,dangerouslySetInnerHTML:{__html:"&times;"}}):null;this.state.isOpen&&(u={ref:"menu",className:"Select-menu"},this.props.multi&&(u.onMouseDown=this.handleMouseDown),s=o.createElement("div",{ref:"selectMenuContainer",className:"Select-menu-outer"},o.createElement("div",u,this.buildMenu())));var h,d=n.extend({ref:"input",className:"Select-input",tabIndex:this.props.tabIndex||0,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur},this.props.inputProps);return h=this.props.searchable&&!this.props.disabled?o.createElement(a,i({value:this.state.inputValue,onChange:this.handleInputChange,minWidth:"5"},d)):o.createElement("div",d," "),o.createElement("div",{ref:"wrapper",className:t},o.createElement("input",{type:"hidden",ref:"value",name:this.props.name,value:this.state.value,disabled:this.props.disabled}),o.createElement("div",{className:"Select-control",ref:"control",onKeyDown:this.handleKeyDown,onMouseDown:this.handleMouseDown,onTouchEnd:this.handleMouseDown},e,h,o.createElement("span",{className:"Select-arrow"}),p,c),s)}});e.exports=p}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./Value":2,react:void 0}],2:[function(t,e){"use strict";var s=t("react"),i=s.createClass({displayName:"Value",propTypes:{label:s.PropTypes.string.isRequired},blockEvent:function(t){t.stopPropagation()},render:function(){var t=this.props.label;return this.props.optionLabelClick&&(t=s.createElement("a",{className:"Select-item-label__a",onMouseDown:this.blockEvent,onTouchEnd:this.props.onOptionLabelClick,onClick:this.props.onOptionLabelClick},t)),s.createElement("div",{className:"Select-item"},s.createElement("span",{className:"Select-item-icon",onMouseDown:this.blockEvent,onClick:this.props.onRemove,onTouchEnd:this.props.onRemove},"×"),s.createElement("span",{className:"Select-item-label"},t))}});e.exports=i},{react:void 0}]},{},[1])(1)});